// Questions database for Portuguese figures of speech
const questionsDatabase = {
  metafora: [
    {
      question: '"Ela estava com um cora√ß√£o de pedra." Esta frase √© um exemplo de qual figura de linguagem?',
      options: ['Met√°fora', 'Ironia', 'Hip√©rbole', 'Eufemismo'],
      correct: 0,
      explanation: 'Met√°fora √© uma compara√ß√£o impl√≠cita. "Cora√ß√£o de pedra" compara o cora√ß√£o insens√≠vel com a dureza da pedra.'
    },
    {
      question: '"Seus olhos s√£o duas estrelas brilhantes." Qual figura de linguagem est√° presente?',
      options: ['Hip√©rbole', 'Met√°fora', 'Personifica√ß√£o', 'Ant√≠tese'],
      correct: 1,
      explanation: 'Met√°fora compara os olhos com estrelas, criando uma imagem po√©tica sem usar conectivos como "como" ou "tal qual".'
    },
    {
      question: '"O tempo √© dinheiro." Esta express√£o representa qual figura?',
      options: ['Compara√ß√£o', 'Met√°fora', 'Meton√≠mia', 'Sinestesia'],
      correct: 1,
      explanation: '√â uma met√°fora que equipara tempo e dinheiro, sugerindo que ambos s√£o recursos valiosos.'
    }
  ],
  
  metonimia: [
    {
      question: '"Ele bebeu a garrafa toda." Qual figura de linguagem est√° presente?',
      options: ['Hip√©rbole', 'Met√°fora', 'Meton√≠mia', 'Ironia'],
      correct: 2,
      explanation: 'Meton√≠mia substitui "conte√∫do da garrafa" por "garrafa". √â a substitui√ß√£o de uma palavra por outra com rela√ß√£o de proximidade.'
    },
    {
      question: '"Lemos Machado de Assis na escola." O que representa esta constru√ß√£o?',
      options: ['Met√°fora', 'Meton√≠mia', 'Personifica√ß√£o', 'Antonom√°sia'],
      correct: 1,
      explanation: 'Meton√≠mia: o nome do autor (Machado de Assis) substitui sua obra (livros). √â autor pela obra.'
    },
    {
      question: '"A cidade inteira veio ao evento." Qual figura est√° presente?',
      options: ['Hip√©rbole', 'Meton√≠mia', 'Personifica√ß√£o', 'Todas as anteriores'],
      correct: 3,
      explanation: 'H√° hip√©rbole (exagero), meton√≠mia (cidade pelos habitantes) e personifica√ß√£o (cidade como pessoa que pode vir).'
    }
  ],
  
  hiperbole: [
    {
      question: '"Chorei rios de l√°grimas." Esta express√£o representa:',
      options: ['Met√°fora', 'Hip√©rbole', 'Personifica√ß√£o', 'Compara√ß√£o'],
      correct: 1,
      explanation: 'Hip√©rbole √© o exagero intencional. "Rios de l√°grimas" exagera a quantidade de choro para enfatizar a emo√ß√£o.'
    },
    {
      question: '"Morri de rir da piada." Qual figura de linguagem est√° presente?',
      options: ['Ironia', 'Hip√©rbole', 'Eufemismo', 'Ant√≠tese'],
      correct: 1,
      explanation: 'Hip√©rbole exagera o efeito da piada. "Morrer de rir" √© um exagero para expressar que achou muito engra√ßado.'
    },
    {
      question: '"J√° falei mil vezes para voc√™!" O que caracteriza esta frase?',
      options: ['Hip√©rbole', 'Meton√≠mia', 'Pleonasmo', 'Anacoluto'],
      correct: 0,
      explanation: 'Hip√©rbole atrav√©s do exagero num√©rico "mil vezes" para enfatizar a repeti√ß√£o da mensagem.'
    }
  ],
  
  ironia: [
    {
      question: 'Ao ver algu√©m trope√ßar, dizer "Que elegante!" √© exemplo de:',
      options: ['Eufemismo', 'Hip√©rbole', 'Ironia', 'Met√°fora'],
      correct: 2,
      explanation: 'Ironia expressa o contr√°rio do que se pensa. Chamar algu√©m que trope√ßou de "elegante" √© ir√¥nico.'
    },
    {
      question: '"Que belo dia!" disse ao ver a chuva torrencial. Isto √©:',
      options: ['Ironia', 'Ant√≠tese', 'Paradoxo', 'Eufemismo'],
      correct: 0,
      explanation: 'Ironia: dizer que o dia est√° belo quando est√° chovendo muito expressa o contr√°rio do que se pensa.'
    },
    {
      question: '"Nossa, que pontualidade!" para quem chegou 2 horas atrasado:',
      options: ['Sarcasmo', 'Ironia', 'Ambas as anteriores', 'Eufemismo'],
      correct: 2,
      explanation: '√â ironia (expressa o contr√°rio) com tom sarc√°stico (cr√≠tica mordaz). Sarcasmo √© uma forma de ironia.'
    }
  ],
  
  personificacao: [
    {
      question: '"O vento sussurrava segredos." Qual figura est√° presente?',
      options: ['Met√°fora', 'Personifica√ß√£o', 'Hip√©rbole', 'Sinestesia'],
      correct: 1,
      explanation: 'Personifica√ß√£o atribui caracter√≠sticas humanas (sussurrar) a seres inanimados (vento).'
    },
    {
      question: '"As flores dan√ßavam na brisa." Esta constru√ß√£o representa:',
      options: ['Personifica√ß√£o', 'Compara√ß√£o', 'Met√°fora', 'Meton√≠mia'],
      correct: 0,
      explanation: 'Personifica√ß√£o: as flores ganham a capacidade humana de dan√ßar, criando uma imagem po√©tica.'
    },
    {
      question: '"A lua sorriu para os namorados." Que figura de linguagem √© esta?',
      options: ['Hip√©rbole', 'Ironia', 'Personifica√ß√£o', 'Ant√≠tese'],
      correct: 2,
      explanation: 'Personifica√ß√£o d√° √† lua a capacidade humana de sorrir, criando um ambiente rom√¢ntico.'
    }
  ],
  
  antitese: [
    {
      question: '"Era o melhor dos tempos, era o pior dos tempos." Esta frase apresenta:',
      options: ['Paradoxo', 'Ant√≠tese', 'Ironia', 'Pleonasmo'],
      correct: 1,
      explanation: 'Ant√≠tese op√µe ideias contr√°rias: "melhor" e "pior" dos tempos criam um contraste intencional.'
    },
    {
      question: '"Amor e √≥dio" numa mesma frase caracteriza:',
      options: ['Ant√≠tese', 'Paradoxo', 'Ox√≠moro', 'Todas as anteriores'],
      correct: 0,
      explanation: 'Ant√≠tese contrap√µe palavras de sentidos opostos (amor/√≥dio) para criar efeito expressivo.'
    },
    {
      question: '"Subir descendo" √© exemplo de:',
      options: ['Paradoxo', 'Ant√≠tese', 'Ox√≠moro', 'Todas as anteriores'],
      correct: 2,
      explanation: 'Ox√≠moro combina termos contradit√≥rios numa mesma express√£o, criando aparente contradi√ß√£o.'
    }
  ],
  
  comparacao: [
    {
      question: '"Ela √© linda como uma flor." Qual figura est√° presente?',
      options: ['Met√°fora', 'Compara√ß√£o', 'Personifica√ß√£o', 'Hip√©rbole'],
      correct: 1,
      explanation: 'Compara√ß√£o usa conectivos (como, tal qual, assim como) para estabelecer semelhan√ßa entre elementos.'
    },
    {
      question: '"R√°pido feito um raio" representa:',
      options: ['Compara√ß√£o', 'Met√°fora', 'Hip√©rbole', 'Meton√≠mia'],
      correct: 0,
      explanation: 'Compara√ß√£o usa "feito" (conectivo) para comparar velocidade com a rapidez do raio.'
    },
    {
      question: 'A diferen√ßa entre compara√ß√£o e met√°fora √©:',
      options: ['N√£o h√° diferen√ßa', 'Compara√ß√£o usa conectivos', 'Met√°fora √© mais po√©tica', 'Compara√ß√£o √© mais simples'],
      correct: 1,
      explanation: 'Compara√ß√£o usa conectivos expl√≠citos (como, feito, tal qual), enquanto met√°fora √© compara√ß√£o impl√≠cita.'
    }
  ],
  
  sinestesia: [
    {
      question: '"Voz doce" mistura quais sentidos?',
      options: ['Vis√£o e tato', 'Audi√ß√£o e paladar', 'Olfato e vis√£o', 'Tato e audi√ß√£o'],
      correct: 1,
      explanation: 'Sinestesia mistura audi√ß√£o (voz) com paladar (doce), criando uma sensa√ß√£o sinest√©sica.'
    },
    {
      question: '"Cor √°spera" representa:',
      options: ['Sinestesia', 'Met√°fora', 'Personifica√ß√£o', 'Ant√≠tese'],
      correct: 0,
      explanation: 'Sinestesia mistura vis√£o (cor) com tato (√°spera), combinando diferentes sensa√ß√µes.'
    },
    {
      question: '"Som quente" √© exemplo de qual figura?',
      options: ['Met√°fora', 'Sinestesia', 'Personifica√ß√£o', 'Hip√©rbole'],
      correct: 1,
      explanation: 'Sinestesia combina audi√ß√£o (som) com sensa√ß√£o t√©rmica (quente).'
    }
  ],
  
  eufemismo: [
    {
      question: '"Ele partiu desta para melhor" significa que:',
      options: ['Viajou', 'Morreu', 'Melhorou', 'Mudou-se'],
      correct: 1,
      explanation: 'Eufemismo suaviza a ideia da morte com uma express√£o mais delicada.'
    },
    {
      question: '"Pessoa de idade" em vez de "velho" √©:',
      options: ['Eufemismo', 'Hip√©rbole', 'Ironia', 'Ant√≠tese'],
      correct: 0,
      explanation: 'Eufemismo substitui termo considerado desagrad√°vel por express√£o mais suave.'
    },
    {
      question: '"Faltou com a verdade" substitui qual palavra?',
      options: ['Errou', 'Mentiu', 'Esqueceu', 'Confundiu'],
      correct: 1,
      explanation: 'Eufemismo ameniza "mentiu" com express√£o mais polida "faltou com a verdade".'
    }
  ],
  
  pleonasmo: [
    {
      question: '"Subir para cima" √© exemplo de:',
      options: ['Pleonasmo', 'Redund√¢ncia', 'Ambas as anteriores', 'Solecismo'],
      correct: 2,
      explanation: 'Pleonasmo √© redund√¢ncia: "subir" j√° indica movimento para cima, tornando "para cima" desnecess√°rio.'
    },
    {
      question: '"Vi com meus pr√≥prios olhos" caracteriza:',
      options: ['Pleonasmo vicioso', 'Pleonasmo liter√°rio', 'Erro gramatical', 'Hip√©rbole'],
      correct: 1,
      explanation: 'Pleonasmo liter√°rio usado para dar √™nfase √† a√ß√£o de ver pessoalmente.'
    },
    {
      question: 'Qual pleonasmo √© considerado liter√°rio?',
      options: ['"Entrar para dentro"', '"Chorar l√°grimas"', '"Sair para fora"', '"Descer para baixo"'],
      correct: 1,
      explanation: '"Chorar l√°grimas" √© pleonasmo liter√°rio aceito poeticamente, enquanto os outros s√£o viciosos.'
    }
  ]
};

// Tips and explanations for special houses
const specialHouseContent = {
  dica: [
    {
      title: "üí° Dica: Met√°fora vs. Compara√ß√£o",
      content: "A met√°fora √© uma compara√ß√£o impl√≠cita (sem conectivos), enquanto a compara√ß√£o usa palavras como 'como', 'tal qual', 'feito'. Exemplo: Met√°fora: 'Seus olhos s√£o estrelas.' Compara√ß√£o: 'Seus olhos s√£o como estrelas.'"
    },
    {
      title: "üí° Dica: Identificando Meton√≠mia",
      content: "A meton√≠mia substitui uma palavra por outra pr√≥xima no sentido. Principais tipos: causa pelo efeito, continente pelo conte√∫do, autor pela obra, marca pelo produto. Exemplo: 'Beber uma coca' (marca pelo produto)."
    },
    {
      title: "üí° Dica: Personifica√ß√£o",
      content: "A personifica√ß√£o (prosopopeia) atribui caracter√≠sticas humanas a seres inanimados. Procure por verbos de a√ß√£o humana aplicados a objetos, animais ou conceitos abstratos."
    },
    {
      title: "üí° Dica: Hip√©rbole",
      content: "A hip√©rbole √© o exagero intencional para dar √™nfase. Procure por express√µes exageradas como 'morrer de', 'mil vezes', 'oceano de l√°grimas'. √â muito usada na linguagem coloquial."
    },
    {
      title: "üí° Dica: Ironia e Sarcasmo",
      content: "A ironia expressa o contr√°rio do que se pensa. O sarcasmo √© ironia com inten√ß√£o cr√≠tica ou zombeteira. Observe o contexto para identificar quando algu√©m est√° sendo ir√¥nico."
    }
  ],
  
  extra: [
    {
      question: "Qual figura de linguagem est√° presente em 'Morreu na flor da idade'?",
      options: ["Met√°fora", "Eufemismo", "Ambas", "Hip√©rbole"],
      correct: 2,
      explanation: "H√° met√°fora ('flor da idade' compara juventude com flor) e eufemismo (suaviza a ideia de morte prematura)."
    },
    {
      question: "'Gelado calor' √© exemplo de:",
      options: ["Ant√≠tese", "Ox√≠moro", "Paradoxo", "Sinestesia"],
      correct: 1,
      explanation: "Ox√≠moro combina termos contradit√≥rios numa mesma express√£o, criando efeito po√©tico."
    },
    {
      question: "Em 'A pra√ßa √© o cora√ß√£o da cidade', que figura predomina?",
      options: ["Compara√ß√£o", "Met√°fora", "Meton√≠mia", "Personifica√ß√£o"],
      correct: 1,
      explanation: "Met√°fora compara a pra√ßa (centro de conviv√™ncia) com o cora√ß√£o (centro vital do corpo)."
    }
  ]
};

// Utility functions for question management
function getRandomQuestion() {
  const categories = Object.keys(questionsDatabase);
  const randomCategory = categories[Math.floor(Math.random() * categories.length)];
  const categoryQuestions = questionsDatabase[randomCategory];
  const randomQuestion = categoryQuestions[Math.floor(Math.random() * categoryQuestions.length)];
  
  return {
    ...randomQuestion,
    category: randomCategory
  };
}

function getRandomTip() {
  const tips = specialHouseContent.dica;
  return tips[Math.floor(Math.random() * tips.length)];
}

function getRandomExtraQuestion() {
  const extraQuestions = specialHouseContent.extra;
  return extraQuestions[Math.floor(Math.random() * extraQuestions.length)];
}

function shuffleArray(array) {
  const shuffled = [...array];
  for (let i = shuffled.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }
  return shuffled;
}

// Export for use in main script
if (typeof module !== 'undefined' && module.exports) {
  module.exports = {
    questionsDatabase,
    specialHouseContent,
    getRandomQuestion,
    getRandomTip,
    getRandomExtraQuestion,
    shuffleArray
  };
}
